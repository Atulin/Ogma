let story_vue=new Vue({el:"#story-app",data:{votesRoute:null,shelvesRoute:null,csrf:null,score:0,pool:null,didVote:!1,storyId:null,shelves:[],showShelves:!1},methods:{vote:function(){axios.post(this.votesRoute,{votePool:Number(this.pool)}).then(e=>{this.score=e.data.count,this.didVote=e.data.didVote}).catch(console.error)},getShelves:function(){axios.get(this.shelvesRoute+"/user/",{params:{story:this.storyId}}).then(e=>{this.shelves=e.data}).catch(console.error)},addToShelf:function(e){console.log(e,this.storyId),axios.post(this.shelvesRoute+"/add/"+e+"/"+this.storyId,null,{headers:{RequestVerificationToken:this.csrf}}).then(e=>{this.getShelves()}).catch(console.error)}},mounted(){this.pool=document.getElementById("pool-id").dataset.pool,this.storyId=document.getElementById("story-id").dataset.id,this.votesRoute=document.getElementById("votes-route").dataset.route,this.shelvesRoute=document.getElementById("shelves-route").dataset.route,this.csrf=document.querySelector("input[name=__RequestVerificationToken").value,axios.get(this.votesRoute+"/"+this.pool).then(e=>{this.score=e.data.count,this.didVote=e.data.didVote}).catch(console.error),this.getShelves()}});
//# sourceMappingURL=story.min.js.map
