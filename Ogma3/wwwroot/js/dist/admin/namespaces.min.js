let anamespaces_vue=new Vue({el:"#app",data:{form:{name:null,color:null,id:null},lens:{minNameLength:5,maxNameLength:10},err:[],namespaces:[],route:null,color:null},methods:{createNamespace:function(e){e.preventDefault(),this.err=[],(this.form.name.length>this.lens.maxNameLength||this.form.name.length<this.lens.minNameLength)&&this.err.push(`Name has to be between ${this.lens.minNameLength} and ${this.lens.maxNameLength} characters long.`),this.err.length>0||this.form.name&&(null===this.form.id?axios.post(this.route,{name:this.form.name,color:this.form.color}).then(e=>{this.getNamespaces()}).catch(e=>{console.log(e)}):axios.put(this.route+"/"+this.form.id,{id:this.form.id,name:this.form.name,color:this.form.color}).then(e=>{this.getNamespaces()}).catch(e=>{console.log(e)}).then(e=>{this.form.name=this.form.id=null}))},getNamespaces:function(){axios.get(this.route).then(e=>{this.namespaces=e.data}).catch(e=>{console.log(e)})},deleteNamespace:function(e){confirm("Delete permanently?")&&axios.delete(this.route+"/"+e.id).then(e=>{this.getNamespaces()}).catch(e=>{console.log(e)})},editNamespace:function(e){this.form.name=e.name,this.form.color=e.color,this.form.id=e.id},cancelEdit:function(){this.form.name=this.form.color=this.form.id=null}},mounted(){this.route=document.getElementById("route").dataset.route,axios.get(this.route+"/validation").then(e=>{this.lens=e.data}).catch(e=>console.error(e)),this.getNamespaces()}});
//# sourceMappingURL=namespaces.min.js.map
