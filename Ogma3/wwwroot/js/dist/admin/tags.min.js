let e=new Vue({el:"#app",data:{form:{name:null,desc:null,namespace:null,id:null},lens:{minNameLength:5,maxNameLength:20,minDescLength:10,maxDescLength:100},err:[],routes:{tags:null,namespaces:null},tags:[],namespaces:[]},methods:{createTag:function(e){e.preventDefault(),this.err=[],(this.form.name.length>this.lens.maxNameLength||this.form.name.length<this.lens.minNameLength)&&this.err.push(`Name has to be between ${this.lens.minNameLength} and ${this.lens.maxNameLength} characters long.`),null!==this.form.desc&&this.form.desc.length>this.lens.maxDescLength&&this.err.push(`Description has to be at most ${this.lens.maxDescLength} characters long.`),this.err.length>0||(console.info(this.form.name),this.form.name&&(null===this.form.id?axios.post(this.routes.tags,{name:this.form.name,namespaceId:this.form.namespace,description:this.form.desc}).then(e=>{this.getTags()}).catch(e=>{console.log(e)}):axios.put(this.routes.tags+"/"+this.form.id,{id:this.form.id,name:this.form.name,namespaceId:this.form.namespace,description:this.form.desc}).then(e=>{this.getTags()}).catch(e=>{console.log(e)}).then(e=>{this.form.name=this.form.desc=this.form.namespace=this.form.id=null})))},getTags:function(){axios.get(this.routes.tags).then(e=>{this.tags=e.data}).catch(e=>{console.log(e)})},getNamespaces:function(){axios.get(this.routes.namespaces).then(e=>{this.namespaces=e.data}).catch(e=>{console.log(e)})},deleteTag:function(e){confirm("Delete permanently?")&&axios.delete(this.routes.tags+"/"+e.id).then(e=>{this.getTags()}).catch(e=>{console.log(e)})},editTag:function(e){this.form.name=e.name,this.form.desc=e.description,this.form.namespace=e.namespaceId,this.form.id=e.id},cancelEdit:function(){this.form.name=this.form.desc=this.form.namespace=this.form.id=null}},mounted(){this.routes.tags=document.getElementById("tag-route").dataset.route,this.routes.namespaces=document.getElementById("ns-route").dataset.route,axios.get(this.routes.tags+"/validation").then(e=>{this.lens=e.data}).catch(e=>console.error(e)),this.getTags(),this.getNamespaces()}});
//# sourceMappingURL=tags.min.js.map
