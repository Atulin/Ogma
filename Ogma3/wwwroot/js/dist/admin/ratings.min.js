let ratings_vue=new Vue({el:"#app",data:{form:{name:null,desc:null,icon:null,id:null},err:[],ratings:[],route:null,cdn:null,xcsrf:null},methods:{iconChanged:function(t){this.form.icon=t.target.files[0]},createRating:function(t){if(t.preventDefault(),this.form.name){const t=new FormData;t.append("name",this.form.name),t.append("description",this.form.desc),this.form.icon&&t.append("icon",this.form.icon,this.form.icon.name),null===this.form.id?axios.post(this.route,t,{headers:{RequestVerificationToken:this.xcsrf}}).then(t=>{this.getRatings()}).catch(t=>{console.log(t)}):axios.put(this.route+"/"+this.form.id,t,{headers:{RequestVerificationToken:this.xcsrf}}).then(t=>{this.getRatings()}).catch(t=>{console.log(t)}).then(t=>{this.form.name=this.form.id=null})}},getRatings:function(){axios.get(this.route).then(t=>{this.ratings=t.data}).catch(t=>{console.log(t)})},deleteRating:function(t){confirm("Delete permanently?")&&axios.delete(this.route+"/"+t.id).then(t=>{this.getRatings()}).catch(t=>{console.log(t)})},editRating:function(t){this.form.name=t.name,this.form.color=t.color,this.form.id=t.id,this.form.order=t.order},cancelEdit:function(){this.form.name=this.form.color=this.form.id=this.form.order=null}},mounted(){this.route=document.getElementById("route").dataset.route,this.cdn=document.getElementById("cdn").dataset.cdn,this.xcsrf=document.querySelector('[name="__RequestVerificationToken"]').value,this.getRatings()}});
//# sourceMappingURL=ratings.min.js.map
