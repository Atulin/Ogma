{"version":3,"sources":["edit-story.min.js"],"names":["Vue","el","data","title","max","min","current","hook","desc","options","selected","search","route","id","methods","[object Object]","x","this","includes","push","find","e","hidden","filter","computed","length","name","toLowerCase","namespace","document","getElementById","dataset","valLengthMax","valLengthMin","axios","get","then","res","catch","console","error","forEach"],"mappings":"AAAA,IAAIA,IAAI,CACJC,GAAI,SACJC,KAAM,CAEFC,MAAO,CACHC,IAAK,EACLC,IAAK,EACLC,QAAS,IAEbC,KAAM,CACFH,IAAK,EACLC,IAAK,EACLC,QAAS,IAEbE,KAAM,CACFJ,IAAK,EACLC,IAAK,EACLC,QAAS,IAIbG,QAAS,GACTC,SAAU,GACVC,OAAQ,GAGRC,MAAO,KACPC,GAAI,MAERC,QAAS,CACLC,UAAUC,GACFC,KAAKP,SAASQ,SAASF,KAC3BC,KAAKP,SAASS,KAAKH,GACnBC,KAAKR,QAAQW,KAAKC,GAAKA,EAAER,KAAOG,EAAEH,IAAIS,QAAS,IAEnDP,OAAOC,GACHC,KAAKP,SAAWO,KAAKP,SAASa,OAAOF,GAAKA,EAAER,KAAOG,EAAEH,IACrDI,KAAKR,QAAQW,KAAKC,GAAKA,EAAER,KAAOG,EAAEH,IAAIS,QAAS,IAGvDE,SAAU,CACNT,aACI,MAAO,GAAGE,KAAKd,MAAMG,QAAQmB,UAAUR,KAAKd,MAAMC,OAEtDW,YACI,MAAO,GAAGE,KAAKV,KAAKD,QAAQmB,UAAUR,KAAKV,KAAKH,OAEpDW,YACI,MAAO,GAAGE,KAAKT,KAAKF,QAAQmB,UAAUR,KAAKT,KAAKJ,OAEpDW,WACI,OAAOE,KAAKR,QAAQc,OAAOP,IAEnBA,EAAEU,KAAKC,cAAcT,SAASD,KAAKN,OAAOgB,gBACvCX,EAAEY,UAAUD,cAAcT,SAASD,KAAKN,OAAOgB,iBACjDV,KAAKN,OAAOc,OAAS,KAItCV,cACIE,KAAKL,MAAQiB,SAASC,eAAe,SAASC,QAAQnB,MACtDK,KAAKJ,GAAKgB,SAASC,eAAe,QAAQC,QAAQlB,GAElD,IAAIV,EAAQ0B,SAASC,eAAe,eACpCb,KAAKd,MAAMC,IAAMD,EAAM4B,QAAQC,aAC/Bf,KAAKd,MAAME,IAAMF,EAAM4B,QAAQE,aAC/BhB,KAAKd,MAAMG,QAAUuB,SAASC,eAAe,WAAWC,QAAQ5B,MAEhE,IAAII,EAAOsB,SAASC,eAAe,cACnCb,KAAKV,KAAKH,IAAMG,EAAKwB,QAAQC,aAC7Bf,KAAKV,KAAKF,IAAME,EAAKwB,QAAQE,aAC7BhB,KAAKV,KAAKD,QAAUuB,SAASC,eAAe,UAAUC,QAAQxB,KAE9D,IAAIC,EAAOqB,SAASC,eAAe,qBACnCb,KAAKT,KAAKJ,IAAMI,EAAKuB,QAAQC,aAC7Bf,KAAKT,KAAKH,IAAMG,EAAKuB,QAAQE,aAC7BhB,KAAKT,KAAKF,QAAUuB,SAASC,eAAe,UAAUC,QAAQvB,KAE9D0B,MAAMC,IAAIlB,KAAKL,OACVwB,KAAKC,GAAOpB,KAAKR,QAAU4B,EAAInC,MAC/BoC,MAAMC,QAAQC,OAEnBN,MAAMC,IAAI,GAAGlB,KAAKL,eAAeK,KAAKJ,MACjCuB,KAAKC,IACFpB,KAAKP,SAAW2B,EAAInC,KACpBe,KAAKP,SAAS+B,QAAQzB,GAAKC,KAAKR,QAAQW,KAAKC,GAAKA,EAAER,KAAOG,EAAEH,IAAIS,QAAS,KAE7EgB,MAAMC,QAAQC","file":"edit-story.min.js","sourcesContent":["new Vue({\r\n    el: '#story',\r\n    data: {\r\n        // Form counters\r\n        title: {\r\n            max: 0,\r\n            min: 0,\r\n            current: '',\r\n        },\r\n        hook: {\r\n            max: 0,\r\n            min: 0,\r\n            current: '',\r\n        },\r\n        desc: {\r\n            max: 0,\r\n            min: 0,\r\n            current: '',\r\n        },\r\n        \r\n        // Tag search\r\n        options: [],\r\n        selected: [],\r\n        search: '',\r\n        \r\n        // API routing\r\n        route: null,\r\n        id: null,\r\n    },  \r\n    methods: {\r\n        addUnique(x) {\r\n            if (this.selected.includes(x)) return;\r\n            this.selected.push(x);\r\n            this.options.find(e => e.id === x.id).hidden = true;\r\n        },\r\n        remove(x) {\r\n            this.selected = this.selected.filter(e => e.id !== x.id);\r\n            this.options.find(e => e.id === x.id).hidden = false;\r\n        }\r\n    },\r\n    computed: {\r\n        titleCount() {\r\n            return `${this.title.current.length}/${this.title.max}`;\r\n        },\r\n        hookCount() {\r\n            return `${this.hook.current.length}/${this.hook.max}`;\r\n        },\r\n        descCount() {\r\n            return `${this.desc.current.length}/${this.desc.max}`;\r\n        },\r\n        filtered() {\r\n            return this.options.filter(x => { \r\n                return (\r\n                    x.name.toLowerCase().includes(this.search.toLowerCase())\r\n                    || x.namespace.toLowerCase().includes(this.search.toLowerCase())\r\n                ) && this.search.length > 0\r\n            })\r\n        }\r\n    },\r\n    beforeMount() {\r\n        this.route = document.getElementById('route').dataset.route;\r\n        this.id = document.getElementById('v-id').dataset.id;\r\n\r\n        let title = document.getElementById('Input_Title');\r\n        this.title.max = title.dataset.valLengthMax;\r\n        this.title.min = title.dataset.valLengthMin;\r\n        this.title.current = document.getElementById('v-title').dataset.title;\r\n\r\n        let hook = document.getElementById('Input_Hook');\r\n        this.hook.max = hook.dataset.valLengthMax;\r\n        this.hook.min = hook.dataset.valLengthMin;\r\n        this.hook.current = document.getElementById('v-hook').dataset.hook;\r\n\r\n        let desc = document.getElementById('Input_Description');\r\n        this.desc.max = desc.dataset.valLengthMax;\r\n        this.desc.min = desc.dataset.valLengthMin;\r\n        this.desc.current = document.getElementById('v-desc').dataset.desc;\r\n\r\n        axios.get(this.route)\r\n            .then(res => this.options = res.data)\r\n            .catch(console.error);\r\n        \r\n        axios.get(`${this.route}/story/${this.id}`)\r\n            .then(res => {\r\n                this.selected = res.data;\r\n                this.selected.forEach(x => this.options.find(e => e.id === x.id).hidden = true)\r\n            })\r\n            .catch(console.error);\r\n    }\r\n});\r\n"]}