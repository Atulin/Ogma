let t=new Vue({el:"#comments-container",data:{body:null,thread:null,route:null,csrf:null,comments:[],visibleComments:[],page:1,perPage:10},methods:{submit:function(t){t.preventDefault(),axios.post(this.route,{body:this.body,thread:Number(this.thread)},{headers:{RequestVerificationToken:this.csrf}}).then(t=>{this.load(),this.body=null}).catch(console.error)},load:function(){axios.get(this.route,{params:{thread:this.thread}}).then(t=>{this.comments=t.data.map((t,e)=>({val:t,key:e})).reverse(),this.paginate()}).catch(console.error)},enter:function(t){t.ctrlKey&&this.submit(t)},date:function(t){return dayjs(t).format("DD MMM YYYY, HH:mm")},prevPage:function(){this.page=Math.max(1,this.page-1),this.paginate()},nextPage:function(){this.page=Math.min(this.page+1,Math.ceil(this.comments.length/this.perPage)),this.paginate()},changePage:function(t){this.page=t,this.paginate()},paginate:function(){this.visibleComments=this.comments.slice((this.page-1)*this.perPage,this.page*this.perPage),window.location.hash=this.page}},mounted(){this.thread=document.getElementById("thread").dataset.thread,this.route=document.getElementById("route").dataset.route,this.csrf=document.querySelector("input[name=__RequestVerificationToken").value,this.page=Math.max(1,Number(window.location.hash.substring(1))),this.load()}});
//# sourceMappingURL=comments.min.js.map
