Vue.component("club-folder-selector",{props:{clubsRoute:{type:String,required:!0},foldersRoute:{type:String,required:!0},cdn:{type:String,required:!0},storyId:{type:Number,required:!0}},data:function(){return{clubs:[],folders:null,selectedClub:null,csrf:null,status:{message:"",success:null},visible:!1}},methods:{add:function(){this.$refs.folder.sel?axios.post(this.foldersRoute+"/add-story",{folderId:this.$refs.folder.sel,storyId:this.storyId},{headers:{RequestVerificationToken:this.csrf}}).then((e=>{this.status={message:"Successfully added",success:!0}})).catch((e=>{this.status={message:e.response.data,success:!1}})):this.status={message:"You must select a folder!",success:!1}},hide:function(){this.visible=!1,this.selectedClub=null}},mounted(){axios.get(this.clubsRoute+"/user").then((e=>this.clubs=e.data)).catch(console.error),this.csrf=document.querySelector("input[name=__RequestVerificationToken]").value},template:'<div class="club-folder-selector my-modal" v-if="visible" @click.self="hide">\n      <div class="content">\n        <template v-if="selectedClub">\n          \n            <div class="header">\n              <img :src="cdn + (selectedClub.icon ?? \'ph-250.png\')" :alt="selectedClub.name" width="32" height="32">\n              <span>{{selectedClub.name}}</span>\n            </div>\n            \n            <div class="msg" :class="status.success ? \'success\' : \'error\'">\n              {{status.message}}\n            </div>\n            \n            <folder-tree ref="folder" \n              :show-none="false"\n              :club-id="selectedClub.id"\n              :route="foldersRoute">\n            </folder-tree>\n            \n            <div class="buttons">\n              <button class="active-border add" @click="add">Add</button>\n              <button class="active-border cancel" @click="selectedClub = null">Go back</button>\n            </div>\n          \n          </template>\n          <template v-else>\n          \n            <div class="header">\n              <span>Your clubs</span>\n            </div>\n          \n            <div class="clubs">\n              <div class="club" tabindex="0" v-for="c in clubs" @click="selectedClub = c">\n                <img :src="cdn + (c.icon ?? \'ph-250.png\')" :alt="c.name" width="24" height="24">\n                <span>{{c.name}}</span>\n              </div>\n            </div>\n            \n          </template>\n      </div>\n    </div>'});
//# sourceMappingURL=club-folder-selector-component.min.js.map
