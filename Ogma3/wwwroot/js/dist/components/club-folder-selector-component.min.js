Vue.component("club-folder-selector",{props:{clubsRoute:{type:String,required:!0},foldersRoute:{type:String,required:!0},cdn:{type:String,required:!0},storyId:{type:Number,required:!0}},data:function(){return{clubs:[],folders:null,selectedClub:null,csrf:null,status:{message:"",success:null},visible:!1}},methods:{add:function(){axios.post(this.foldersRoute+"/add-story",{folderId:this.$refs.folder.sel,storyId:this.storyId},{headers:{RequestVerificationToken:this.csrf}}).then(e=>{this.status={message:"Successfully added",success:!0}}).catch(e=>{this.status={message:e.response.data,success:!1}})}},mounted(){axios.get(this.clubsRoute+"/user").then(e=>this.clubs=e.data).catch(console.error),this.csrf=document.querySelector("input[name=__RequestVerificationToken]").value},template:'<div class="club-folder-selector my-modal" v-if="visible" @click.self="visible = false">\n      <div class="content">\n        <template v-if="selectedClub">\n          \n            <div class="header">\n              <img :src="cdn + (selectedClub.icon ?? \'ph-250.png\')" :alt="selectedClub.name" width="16" height="16">\n              <span>{{selectedClub.name}}</span>\n            </div>\n            \n            <folder-tree ref="folder"\n              :club-id="selectedClub.id"\n              :route="foldersRoute"\n              label="Select folder">\n            </folder-tree>\n            \n            <div class="buttons">\n              <button @click="add">Add</button>\n              <button @click="selectedClub = null">Go back</button>\n            </div>\n          \n          </template>\n          <template v-else>\n          \n            <div class="clubs">\n              <div class="club" v-for="c in clubs" @click="selectedClub = c">\n                <img :src="cdn + (c.icon ?? \'ph-250.png\')" :alt="c.name" width="16" height="16">\n                <span>{{c.name}}</span>\n              </div>\n            </div>\n            \n          </template>\n      </div>\n    </div>'});
//# sourceMappingURL=club-folder-selector-component.min.js.map
