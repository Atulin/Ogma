Vue.component("report-modal",{props:{reportsRoute:{type:String,required:!0},itemType:{type:String,required:!0},itemId:{type:Number,required:!0}},data:function(){return{visible:!1,reason:"",csrf:null,message:null,btnClass:"",mutId:this.itemId}},methods:{hide:function(){this.reason="",this.visible=!1,this.$refs.text.clear()},send:function(){this.$refs.text.validate&&axios.post(`${this.reportsRoute}`,{itemId:this.mutId,reason:this.reason,itemType:this.itemType},{headers:{RequestVerificationToken:this.csrf}}).then((e=>{this.message="Report delivered!",this.btnClass="green"})).catch((e=>{this.message="An error has occurred.",this.btnClass="red",console.error(e)}))}},mounted(){this.csrf=document.querySelector("input[name=__RequestVerificationToken]").value},template:'\n      <div class="report-modal my-modal" v-if="visible" @click.self="hide" v-cloak>\n          <div class="content">\n            \n            <div class="header">\n              <span>Report content</span>\n            </div>\n          \n            <form class="form">\n                <textarea-counter ref="text"\n                                  label="Reason"\n                                  desc="Why do you want to report this content?"\n                                  validate-msg="The {0} must be between {2} and {1} characters"\n                                  :min="30" :max="500"\n                                  v-model="reason">\n                </textarea-counter>\n            </form>\n            \n            <br>\n                \n            <button class="btn" :class="btnClass" v-on:click="send">\n              {{ message ?? \'Send report\' }}\n            </button>\n            \n          </div>\n        </div>\n    '});
//# sourceMappingURL=report-modal.min.js.map
