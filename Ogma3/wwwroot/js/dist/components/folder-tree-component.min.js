Vue.component("folder-item",{props:{folder:{type:Object,required:!0},sel:{type:Number},current:{type:Number},disabled:{type:Boolean,default:!1}},methods:{bus:function(e){console.log(this.folder),e!==this.current&&this.$emit("bus",e)}},template:'\n      <div class="folder" \n           :class="[\n               folder.id === current || disabled ? \'disabled\' : null,\n               folder.canAdd ? null : \'locked\'\n           ]">\n        <span v-on:click.self="bus(folder.id)" \n              :class="sel === folder.id ? \'active\' : null"\n              :tabindex="folder.id === current || disabled || !folder.canAdd ? -1 : 0">\n          {{folder.name}}\n        </span> \n        <template v-if="folder.children.length > 0">\n            <folder-item v-for="f in folder.children" \n                         :folder="f" \n                         :key="f.id"\n                         @bus="bus"\n                         :sel="sel"\n                         :current="current"\n                         :disabled="folder.id === current">\n            </folder-item>  \n        </template> \n    </div>\n    '}),Vue.component("folder-tree",{props:{clubId:{type:Number,required:!0},route:{type:String,required:!0},label:{type:String},value:{type:Number,default:null},current:{type:Number,default:null},desc:{type:String,default:null},showNone:{type:Boolean,default:!0}},data:function(){return{folders:[],tree:[],sel:this.value,name:this.label?.replace(/\s+/g,"")}},methods:{unflatten:function(){let e=Object.create(null);this.folders.forEach((n=>e[n.id]={...n,children:[]})),this.folders.forEach((n=>{n.parentFolderId?e[n.parentFolderId].children.push(e[n.id]):this.tree.push(e[n.id])}))},bus:function(e){this.sel=e}},mounted(){axios.get(`${this.route}/${this.clubId}`).then((e=>{this.folders=e.data,this.unflatten()})).catch(console.error)},template:'\n        <div class="o-form-group">\n            <label v-if="label" :for="name">{{label.replace( /([A-Z])/g, " $1" )}}</label>\n            <p class="desc" v-if="desc">{{desc}}</p>\n            <input type="hidden" :value="sel" name="parentId">\n            \n            <div class="folder-tree active-border">\n              \n                <span v-if="showNone" v-on:click.self="sel = null"\n                    :class="sel === null ? \'active\' : null"\n                    tabindex="0">\n                  None\n                </span>\n              \n                  <template v-if="tree.length > 0">\n                    <folder-item v-for="f in tree"\n                                 :folder="f"\n                                 :key="f.id"\n                                 @bus="bus"\n                                 :sel="sel"\n                                 :current="current">\n                    </folder-item>\n                  </template>\n\n                <template v-else>\n                  No folders found\n                </template>\n            </div>\n        </div>\n    '});
//# sourceMappingURL=folder-tree-component.min.js.map
