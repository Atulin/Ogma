var vue=new Vue({el:"#app",data:{form:{name:null,id:null},namespaces:[],route:null},methods:{createNamespace:function(b){var a=this;b.preventDefault();this.form.name&&(null===this.form.id?axios.post(this.route,{name:this.form.name}).then(function(c){a.getNamespaces()}).catch(function(a){console.log(a)}):axios.put(this.route+"/"+this.form.id,{id:this.form.id,name:this.form.name}).then(function(b){a.getNamespaces()}).catch(function(a){console.log(a)}).then(function(b){a.form.name=a.form.id=null}))},
getNamespaces:function(){var b=this;axios.get(this.route).then(function(a){b.namespaces=a.data}).catch(function(a){console.log(a)})},deleteNamespace:function(b){var a=this;axios.delete(this.route+"/"+b.id).then(function(b){a.getNamespaces()}).catch(function(a){console.log(a)})},editNamespace:function(b){this.form.name=b.name;this.form.id=b.id},cancelEdit:function(){this.form.name=this.form.id=null}},mounted:function(){this.route=document.getElementById("route").dataset.route;this.getNamespaces()}});
