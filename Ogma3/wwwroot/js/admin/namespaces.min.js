var vue=new Vue({el:"#app",data:{form:{name:null,color:{a:null,r:null,g:null,b:null},id:null},lens:{minNameLength:5,maxNameLength:10},err:[],namespaces:[],route:null,color:null},methods:{createNamespace:function(a){var b=this;a.preventDefault();this.err=[];(this.form.name.length>this.lens.maxNameLength||this.form.name.length<this.lens.minNameLength)&&this.err.push("Name has to be between "+this.lens.minNameLength+" and "+this.lens.maxNameLength+" characters long.");0<this.err.length||this.form.name&&
(null===this.form.id?axios.post(this.route,{name:this.form.name,argb:calculateColor(this.form.color)}).then(function(a){b.getNamespaces()}).catch(function(a){console.log(a)}):axios.put(this.route+"/"+this.form.id,{id:this.form.id,name:this.form.name,argb:calculateColor(this.form.color)}).then(function(a){b.getNamespaces()}).catch(function(a){console.log(a)}).then(function(a){b.form.name=b.form.id=null}))},getNamespaces:function(){var a=this;axios.get(this.route).then(function(b){a.namespaces=b.data}).catch(function(a){console.log(a)})},
deleteNamespace:function(a){var b=this;axios.delete(this.route+"/"+a.id).then(function(a){b.getNamespaces()}).catch(function(a){console.log(a)})},editNamespace:function(a){this.form.name=a.name;this.form.color=a.color;this.form.id=a.id},cancelEdit:function(){this.form.name=this.form.color=this.form.id=null},updateColor:function(){this.color="rgba("+this.form.color.r+", "+this.form.color.g+", "+this.form.color.b+", "+this.form.color.a+")"}},mounted:function(){var a=this;this.route=document.getElementById("route").dataset.route;
axios.get(this.route+"/validation").then(function(b){a.lens=b.data}).catch(function(a){return console.error(a)});this.getNamespaces()}});function calculateColor(a){var b=Math.round(255*a.a).toString(16),c=a.r.toString(16),d=a.g.toString(16),e=a.b.toString(16),f=""+b+c+d+e;console.log(a,b,c,d,e,f);return parseInt(f,16)};
