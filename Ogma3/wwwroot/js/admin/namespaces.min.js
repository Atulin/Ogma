let vue=new Vue({el:"#app",data:{form:{name:null,color:{a:null,r:null,g:null,b:null},id:null},lens:{minNameLength:5,maxNameLength:10},err:[],namespaces:[],route:null,color:null},methods:{createNamespace:function(t){t.preventDefault(),this.err=[],(this.form.name.length>this.lens.maxNameLength||this.form.name.length<this.lens.minNameLength)&&this.err.push(`Name has to be between ${this.lens.minNameLength} and ${this.lens.maxNameLength} characters long.`),this.err.length>0||this.form.name&&(null===this.form.id?axios.post(this.route,{name:this.form.name,argb:calculateColor(this.form.color)}).then(t=>{this.getNamespaces()}).catch(t=>{console.log(t)}):axios.put(this.route+"/"+this.form.id,{id:this.form.id,name:this.form.name,argb:calculateColor(this.form.color)}).then(t=>{this.getNamespaces()}).catch(t=>{console.log(t)}).then(t=>{this.form.name=this.form.id=null}))},getNamespaces:function(){axios.get(this.route).then(t=>{this.namespaces=t.data}).catch(t=>{console.log(t)})},deleteNamespace:function(t){axios.delete(this.route+"/"+t.id).then(t=>{this.getNamespaces()}).catch(t=>{console.log(t)})},editNamespace:function(t){this.form.name=t.name,this.form.color=t.color,this.form.color.a=t.color.a>0?(t.color.a/255).toFixed(2):0,this.form.id=t.id,this.updateColor()},cancelEdit:function(){this.form.name=this.form.color=this.form.id=null},updateColor:function(){this.color=`rgba(${this.form.color.r}, ${this.form.color.g}, ${this.form.color.b}, ${this.form.color.a})`}},mounted(){this.route=document.getElementById("route").dataset.route,axios.get(this.route+"/validation").then(t=>{this.lens=t.data}).catch(t=>console.error(t)),this.getNamespaces()}});function calculateColor(t){let e=Math.round(255*t.a).toString(16),o=t.r.toString(16),a=t.g.toString(16),n=t.b.toString(16);return parseInt(`${e}${o}${a}${n}`,16)}
//# sourceMappingURL=namespaces.min.js.map
