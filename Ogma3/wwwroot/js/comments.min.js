var comments_vue=new Vue({el:"#comments-container",data:{body:null,thread:null,route:null,comments:[]},methods:{submit:function(a){var b=this;a.preventDefault();axios.post(this.route,{body:this.body,thread:Number(this.thread)}).then(function(a){b.load();b.body=null}).catch(console.error)},load:function(){var a=this;axios.get(this.route,{params:{thread:this.thread}}).then(function(b){a.comments=b.data.map(function(a,b){return{val:a,key:b}}).reverse()}).catch(console.error)},enter:function(a){a.ctrlKey&&
this.submit(a)},date:function(a){return dayjs(a).format("DD MMM YYYY, HH:mm")}},mounted:function(){this.thread=document.getElementById("thread").dataset.thread;this.route=document.getElementById("route").dataset.route;this.load()}});
